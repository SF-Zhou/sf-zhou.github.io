<?xml version="1.0" encoding="UTF-8"?>
<!DOCTYPE svg PUBLIC "-//W3C//DTD SVG 1.1//EN" "http://www.w3.org/Graphics/SVG/1.1/DTD/svg11.dtd">
<svg xmlns="http://www.w3.org/2000/svg" xmlns:xlink="http://www.w3.org/1999/xlink" version="1.1" width="1121px" height="1141px" viewBox="-0.5 -0.5 1121 1141" style="background-color: rgb(255, 255, 255);"><defs/><g><path d="M 0 20 L 0 0 L 1120 0 L 1120 20" fill="#f5f5f5" stroke="#666666" stroke-miterlimit="10" pointer-events="all"/><path d="M 0 20 L 0 1140 L 1120 1140 L 1120 20" fill="none" stroke="#666666" stroke-miterlimit="10" pointer-events="none"/><path d="M 0 20 L 1120 20" fill="none" stroke="#666666" stroke-miterlimit="10" pointer-events="none"/><path d="M 0 40 L 0 20 L 160 20 L 160 40" fill="#f8cecc" stroke="#b85450" stroke-miterlimit="10" pointer-events="none"/><path d="M 0 40 L 0 1140 L 160 1140 L 160 40" fill="none" stroke="#b85450" stroke-miterlimit="10" pointer-events="none"/><path d="M 0 40 L 160 40" fill="none" stroke="#b85450" stroke-miterlimit="10" pointer-events="none"/><g transform="translate(-0.5 -0.5)"><switch><foreignObject style="overflow: visible; text-align: left;" pointer-events="none" width="100%" height="100%" requiredFeatures="http://www.w3.org/TR/SVG11/feature#Extensibility"><div xmlns="http://www.w3.org/1999/xhtml" style="display: flex; align-items: unsafe center; justify-content: unsafe center; width: 1px; height: 1px; padding-top: 30px; margin-left: 80px;"><div style="box-sizing: border-box; font-size: 0; text-align: center; "><div style="display: inline-block; font-size: 12px; font-family: Comic Sans MS; color: #000000; line-height: 1.2; pointer-events: none; font-weight: bold; white-space: nowrap; ">Wrapper</div></div></div></foreignObject><text x="80" y="34" fill="#000000" font-family="Comic Sans MS" font-size="12px" text-anchor="middle" font-weight="bold">Wrapper</text></switch></g><path d="M 160 40 L 160 20 L 320 20 L 320 40" fill="#dae8fc" stroke="#6c8ebf" stroke-miterlimit="10" pointer-events="none"/><path d="M 160 40 L 160 1140 L 320 1140 L 320 40" fill="none" stroke="#6c8ebf" stroke-miterlimit="10" pointer-events="none"/><path d="M 160 40 L 320 40" fill="none" stroke="#6c8ebf" stroke-miterlimit="10" pointer-events="none"/><g transform="translate(-0.5 -0.5)"><switch><foreignObject style="overflow: visible; text-align: left;" pointer-events="none" width="100%" height="100%" requiredFeatures="http://www.w3.org/TR/SVG11/feature#Extensibility"><div xmlns="http://www.w3.org/1999/xhtml" style="display: flex; align-items: unsafe center; justify-content: unsafe center; width: 1px; height: 1px; padding-top: 30px; margin-left: 240px;"><div style="box-sizing: border-box; font-size: 0; text-align: center; "><div style="display: inline-block; font-size: 12px; font-family: Comic Sans MS; color: #000000; line-height: 1.2; pointer-events: none; font-weight: bold; white-space: nowrap; ">Proposer EntityWorker</div></div></div></foreignObject><text x="240" y="34" fill="#000000" font-family="Comic Sans MS" font-size="12px" text-anchor="middle" font-weight="bold">Proposer EntityWorker</text></switch></g><path d="M 320 40 L 320 20 L 480 20 L 480 40" fill="#dae8fc" stroke="#6c8ebf" stroke-miterlimit="10" pointer-events="none"/><path d="M 320 40 L 320 1140 L 480 1140 L 480 40" fill="none" stroke="#6c8ebf" stroke-miterlimit="10" pointer-events="none"/><path d="M 320 40 L 480 40" fill="none" stroke="#6c8ebf" stroke-miterlimit="10" pointer-events="none"/><g transform="translate(-0.5 -0.5)"><switch><foreignObject style="overflow: visible; text-align: left;" pointer-events="none" width="100%" height="100%" requiredFeatures="http://www.w3.org/TR/SVG11/feature#Extensibility"><div xmlns="http://www.w3.org/1999/xhtml" style="display: flex; align-items: unsafe center; justify-content: unsafe center; width: 1px; height: 1px; padding-top: 30px; margin-left: 400px;"><div style="box-sizing: border-box; font-size: 0; text-align: center; "><div style="display: inline-block; font-size: 12px; font-family: Comic Sans MS; color: #000000; line-height: 1.2; pointer-events: none; font-weight: bold; white-space: nowrap; ">Proposer PLogWorker</div></div></div></foreignObject><text x="400" y="34" fill="#000000" font-family="Comic Sans MS" font-size="12px" text-anchor="middle" font-weight="bold">Proposer PLogWorker</text></switch></g><path d="M 480 40 L 480 20 L 640 20 L 640 40" fill="#dae8fc" stroke="#6c8ebf" stroke-miterlimit="10" pointer-events="none"/><path d="M 480 40 L 480 1140 L 640 1140 L 640 40" fill="none" stroke="#6c8ebf" stroke-miterlimit="10" pointer-events="none"/><path d="M 480 40 L 640 40" fill="none" stroke="#6c8ebf" stroke-miterlimit="10" pointer-events="none"/><g transform="translate(-0.5 -0.5)"><switch><foreignObject style="overflow: visible; text-align: left;" pointer-events="none" width="100%" height="100%" requiredFeatures="http://www.w3.org/TR/SVG11/feature#Extensibility"><div xmlns="http://www.w3.org/1999/xhtml" style="display: flex; align-items: unsafe center; justify-content: unsafe center; width: 1px; height: 1px; padding-top: 30px; margin-left: 560px;"><div style="box-sizing: border-box; font-size: 0; text-align: center; "><div style="display: inline-block; font-size: 12px; font-family: Comic Sans MS; color: #000000; line-height: 1.2; pointer-events: none; font-weight: bold; white-space: nowrap; ">Proposer IOWorker</div></div></div></foreignObject><text x="560" y="34" fill="#000000" font-family="Comic Sans MS" font-size="12px" text-anchor="middle" font-weight="bold">Proposer IOWorker</text></switch></g><path d="M 640 40 L 640 20 L 800 20 L 800 40" fill="#d5e8d4" stroke="#82b366" stroke-miterlimit="10" pointer-events="none"/><path d="M 640 40 L 640 1140 L 800 1140 L 800 40" fill="none" stroke="#82b366" stroke-miterlimit="10" pointer-events="none"/><path d="M 640 40 L 800 40" fill="none" stroke="#82b366" stroke-miterlimit="10" pointer-events="none"/><g transform="translate(-0.5 -0.5)"><switch><foreignObject style="overflow: visible; text-align: left;" pointer-events="none" width="100%" height="100%" requiredFeatures="http://www.w3.org/TR/SVG11/feature#Extensibility"><div xmlns="http://www.w3.org/1999/xhtml" style="display: flex; align-items: unsafe center; justify-content: unsafe center; width: 1px; height: 1px; padding-top: 30px; margin-left: 720px;"><div style="box-sizing: border-box; font-size: 0; text-align: center; "><div style="display: inline-block; font-size: 12px; font-family: Comic Sans MS; color: #000000; line-height: 1.2; pointer-events: none; font-weight: bold; white-space: nowrap; ">Acceptor IOWorker</div></div></div></foreignObject><text x="720" y="34" fill="#000000" font-family="Comic Sans MS" font-size="12px" text-anchor="middle" font-weight="bold">Acceptor IOWorker</text></switch></g><path d="M 800 40 L 800 20 L 960 20 L 960 40" fill="#d5e8d4" stroke="#82b366" stroke-miterlimit="10" pointer-events="none"/><path d="M 800 40 L 800 1140 L 960 1140 L 960 40" fill="none" stroke="#82b366" stroke-miterlimit="10" pointer-events="none"/><path d="M 800 40 L 960 40" fill="none" stroke="#82b366" stroke-miterlimit="10" pointer-events="none"/><g transform="translate(-0.5 -0.5)"><switch><foreignObject style="overflow: visible; text-align: left;" pointer-events="none" width="100%" height="100%" requiredFeatures="http://www.w3.org/TR/SVG11/feature#Extensibility"><div xmlns="http://www.w3.org/1999/xhtml" style="display: flex; align-items: unsafe center; justify-content: unsafe center; width: 1px; height: 1px; padding-top: 30px; margin-left: 880px;"><div style="box-sizing: border-box; font-size: 0; text-align: center; "><div style="display: inline-block; font-size: 12px; font-family: Comic Sans MS; color: #000000; line-height: 1.2; pointer-events: none; font-weight: bold; white-space: nowrap; ">Acceptor EntityWorker</div></div></div></foreignObject><text x="880" y="34" fill="#000000" font-family="Comic Sans MS" font-size="12px" text-anchor="middle" font-weight="bold">Acceptor EntityWorker</text></switch></g><path d="M 960 40 L 960 20 L 1120 20 L 1120 40" fill="#d5e8d4" stroke="#82b366" stroke-miterlimit="10" pointer-events="none"/><path d="M 960 40 L 960 1140 L 1120 1140 L 1120 40" fill="none" stroke="#82b366" stroke-miterlimit="10" pointer-events="none"/><path d="M 960 40 L 1120 40" fill="none" stroke="#82b366" stroke-miterlimit="10" pointer-events="none"/><g transform="translate(-0.5 -0.5)"><switch><foreignObject style="overflow: visible; text-align: left;" pointer-events="none" width="100%" height="100%" requiredFeatures="http://www.w3.org/TR/SVG11/feature#Extensibility"><div xmlns="http://www.w3.org/1999/xhtml" style="display: flex; align-items: unsafe center; justify-content: unsafe center; width: 1px; height: 1px; padding-top: 30px; margin-left: 1040px;"><div style="box-sizing: border-box; font-size: 0; text-align: center; "><div style="display: inline-block; font-size: 12px; font-family: Comic Sans MS; color: #000000; line-height: 1.2; pointer-events: none; font-weight: bold; white-space: nowrap; ">Acceptor PLogWorker</div></div></div></foreignObject><text x="1040" y="34" fill="#000000" font-family="Comic Sans MS" font-size="12px" text-anchor="middle" font-weight="bold">Acceptor PLogWorker</text></switch></g><path d="M 150 75 L 240 75 L 240 101.88" fill="none" stroke="#000000" stroke-miterlimit="10" pointer-events="none"/><path d="M 240 108.88 L 237.67 101.88 L 242.33 101.88 Z" fill="#000000" stroke="#000000" stroke-miterlimit="10" pointer-events="none"/><g transform="translate(-0.5 -0.5)"><switch><foreignObject style="overflow: visible; text-align: left;" pointer-events="none" width="100%" height="100%" requiredFeatures="http://www.w3.org/TR/SVG11/feature#Extensibility"><div xmlns="http://www.w3.org/1999/xhtml" style="display: flex; align-items: unsafe center; justify-content: unsafe center; width: 1px; height: 1px; padding-top: 75px; margin-left: 215px;"><div style="box-sizing: border-box; font-size: 0; text-align: center; "><div style="display: inline-block; font-size: 12px; font-family: Comic Sans MS; color: #000000; line-height: 1.2; pointer-events: none; background-color: #ffffff; white-space: nowrap; ">IOReqQueue</div></div></div></foreignObject><text x="215" y="79" fill="#000000" font-family="Comic Sans MS" font-size="12px" text-anchor="middle">IOReqQueue</text></switch></g><path d="M 80 100 L 80 1101.88" fill="none" stroke="#000000" stroke-miterlimit="10" stroke-dasharray="1 1" pointer-events="none"/><path d="M 80 1108.88 L 77.67 1101.88 L 82.33 1101.88 Z" fill="#000000" stroke="#000000" stroke-miterlimit="10" pointer-events="none"/><g transform="translate(-0.5 -0.5)"><switch><foreignObject style="overflow: visible; text-align: left;" pointer-events="none" width="100%" height="100%" requiredFeatures="http://www.w3.org/TR/SVG11/feature#Extensibility"><div xmlns="http://www.w3.org/1999/xhtml" style="display: flex; align-items: unsafe center; justify-content: unsafe center; width: 1px; height: 1px; padding-top: 605px; margin-left: 80px;"><div style="box-sizing: border-box; font-size: 0; text-align: center; "><div style="display: inline-block; font-size: 11px; font-family: Comic Sans MS; color: #000000; line-height: 1.2; pointer-events: none; background-color: #ffffff; white-space: nowrap; ">sync wait</div></div></div></foreignObject><text x="80" y="608" fill="#000000" font-family="Comic Sans MS" font-size="11px" text-anchor="middle">sync wait</text></switch></g><rect x="10" y="50" width="140" height="50" rx="7.5" ry="7.5" fill="#f8cecc" stroke="#b85450" pointer-events="none"/><g transform="translate(-0.5 -0.5)"><switch><foreignObject style="overflow: visible; text-align: left;" pointer-events="none" width="100%" height="100%" requiredFeatures="http://www.w3.org/TR/SVG11/feature#Extensibility"><div xmlns="http://www.w3.org/1999/xhtml" style="display: flex; align-items: unsafe center; justify-content: unsafe flex-start; width: 138px; height: 1px; padding-top: 75px; margin-left: 12px;"><div style="box-sizing: border-box; font-size: 0; text-align: left; "><div style="display: inline-block; font-size: 12px; font-family: Comic Sans MS; color: #000000; line-height: 1.2; pointer-events: none; white-space: normal; word-wrap: normal; ">1. SyncWaitCmd<br />2. PushByMultiThread<br />3. SyncWaitByPipeIdx</div></div></div></foreignObject><text x="12" y="79" fill="#000000" font-family="Comic Sans MS" font-size="12px">1. SyncWaitCmd...</text></switch></g><path d="M 310 165 L 400 165 L 400 221.88" fill="none" stroke="#000000" stroke-miterlimit="10" pointer-events="none"/><path d="M 400 228.88 L 397.67 221.88 L 402.33 221.88 Z" fill="#000000" stroke="#000000" stroke-miterlimit="10" pointer-events="none"/><g transform="translate(-0.5 -0.5)"><switch><foreignObject style="overflow: visible; text-align: left;" pointer-events="none" width="100%" height="100%" requiredFeatures="http://www.w3.org/TR/SVG11/feature#Extensibility"><div xmlns="http://www.w3.org/1999/xhtml" style="display: flex; align-items: unsafe center; justify-content: unsafe center; width: 1px; height: 1px; padding-top: 167px; margin-left: 395px;"><div style="box-sizing: border-box; font-size: 0; text-align: center; "><div style="display: inline-block; font-size: 12px; font-family: Comic Sans MS; color: #000000; line-height: 1.2; pointer-events: none; background-color: #ffffff; white-space: nowrap; ">PLogReqQueue</div></div></div></foreignObject><text x="395" y="171" fill="#000000" font-family="Comic Sans MS" font-size="12px" text-anchor="middle">PLogReqQueue</text></switch></g><rect x="170" y="110" width="140" height="110" rx="16.5" ry="16.5" fill="#dae8fc" stroke="#6c8ebf" pointer-events="none"/><g transform="translate(-0.5 -0.5)"><switch><foreignObject style="overflow: visible; text-align: left;" pointer-events="none" width="100%" height="100%" requiredFeatures="http://www.w3.org/TR/SVG11/feature#Extensibility"><div xmlns="http://www.w3.org/1999/xhtml" style="display: flex; align-items: unsafe center; justify-content: unsafe flex-start; width: 1px; height: 1px; padding-top: 165px; margin-left: 172px;"><div style="box-sizing: border-box; font-size: 0; text-align: left; "><div style="display: inline-block; font-size: 12px; font-family: Comic Sans MS; color: #000000; line-height: 1.2; pointer-events: none; white-space: nowrap; "><span>Create Prepare<br />1. DoWithIOReq</span><br /><span>2. DoWithClientCmd</span><br /><span>3. GetNextPreparedNum</span><br /><span>4. Check PreAuth</span><br /><span>5. Machine::</span>Update<br />6. EnterPLogReqQueue</div></div></div></foreignObject><text x="172" y="169" fill="#000000" font-family="Comic Sans MS" font-size="12px">Create Prepare...</text></switch></g><path d="M 330 270 L 240 270 L 240 311.88" fill="none" stroke="#000000" stroke-miterlimit="10" pointer-events="none"/><path d="M 240 318.88 L 237.67 311.88 L 242.33 311.88 Z" fill="#000000" stroke="#000000" stroke-miterlimit="10" pointer-events="none"/><g transform="translate(-0.5 -0.5)"><switch><foreignObject style="overflow: visible; text-align: left;" pointer-events="none" width="100%" height="100%" requiredFeatures="http://www.w3.org/TR/SVG11/feature#Extensibility"><div xmlns="http://www.w3.org/1999/xhtml" style="display: flex; align-items: unsafe center; justify-content: unsafe center; width: 1px; height: 1px; padding-top: 269px; margin-left: 259px;"><div style="box-sizing: border-box; font-size: 0; text-align: center; "><div style="display: inline-block; font-size: 12px; font-family: Comic Sans MS; color: #000000; line-height: 1.2; pointer-events: none; background-color: #ffffff; white-space: nowrap; ">PLogRspQueue</div></div></div></foreignObject><text x="259" y="273" fill="#000000" font-family="Comic Sans MS" font-size="12px" text-anchor="middle">PLogRspQueue</text></switch></g><rect x="330" y="230" width="140" height="80" rx="12" ry="12" fill="#dae8fc" stroke="#6c8ebf" pointer-events="none"/><g transform="translate(-0.5 -0.5)"><switch><foreignObject style="overflow: visible; text-align: left;" pointer-events="none" width="100%" height="100%" requiredFeatures="http://www.w3.org/TR/SVG11/feature#Extensibility"><div xmlns="http://www.w3.org/1999/xhtml" style="display: flex; align-items: unsafe center; justify-content: unsafe flex-start; width: 1px; height: 1px; padding-top: 270px; margin-left: 332px;"><div style="box-sizing: border-box; font-size: 0; text-align: left; "><div style="display: inline-block; font-size: 12px; font-family: Comic Sans MS; color: #000000; line-height: 1.2; pointer-events: none; white-space: nowrap; ">Store Local Promise<br />1. DoWithPaxosCmd<br />2. DoWithPLogRequest<br />3. PLogEngine::PutRecord<br />4. EnterPLogRspQueue</div></div></div></foreignObject><text x="332" y="274" fill="#000000" font-family="Comic Sans MS" font-size="12px">Store Local Promise...</text></switch></g><path d="M 310 365 L 481.88 365" fill="none" stroke="#000000" stroke-miterlimit="10" pointer-events="none"/><path d="M 488.88 365 L 481.88 367.33 L 481.88 362.67 Z" fill="#000000" stroke="#000000" stroke-miterlimit="10" pointer-events="none"/><g transform="translate(-0.5 -0.5)"><switch><foreignObject style="overflow: visible; text-align: left;" pointer-events="none" width="100%" height="100%" requiredFeatures="http://www.w3.org/TR/SVG11/feature#Extensibility"><div xmlns="http://www.w3.org/1999/xhtml" style="display: flex; align-items: unsafe center; justify-content: unsafe center; width: 1px; height: 1px; padding-top: 360px; margin-left: 401px;"><div style="box-sizing: border-box; font-size: 0; text-align: center; "><div style="display: inline-block; font-size: 12px; font-family: Comic Sans MS; color: #000000; line-height: 1.2; pointer-events: none; background-color: #ffffff; white-space: nowrap; ">IORspQueue</div></div></div></foreignObject><text x="401" y="364" fill="#000000" font-family="Comic Sans MS" font-size="12px" text-anchor="middle">IORspQueue</text></switch></g><rect x="170" y="320" width="140" height="90" rx="13.5" ry="13.5" fill="#dae8fc" stroke="#6c8ebf" pointer-events="none"/><g transform="translate(-0.5 -0.5)"><switch><foreignObject style="overflow: visible; text-align: left;" pointer-events="none" width="100%" height="100%" requiredFeatures="http://www.w3.org/TR/SVG11/feature#Extensibility"><div xmlns="http://www.w3.org/1999/xhtml" style="display: flex; align-items: unsafe center; justify-content: unsafe flex-start; width: 1px; height: 1px; padding-top: 365px; margin-left: 172px;"><div style="box-sizing: border-box; font-size: 0; text-align: left; "><div style="display: inline-block; font-size: 12px; font-family: Comic Sans MS; color: #000000; line-height: 1.2; pointer-events: none; white-space: nowrap; ">Broadcast Prepare<br />1. DoWithPLogRsp<br />2. DoWithPaxosCmdFromPLog<br />3. SyncEntryRecord<br />4. BroadcastToRemote<br />5. GoAndDeleteIfFailed</div></div></div></foreignObject><text x="172" y="369" fill="#000000" font-family="Comic Sans MS" font-size="12px">Broadcast Prepare...</text></switch></g><path d="M 630 365 L 650 365 L 650 230 L 630 230 L 630 90 L 641.88 90" fill="none" stroke="#000000" stroke-miterlimit="10" pointer-events="none"/><path d="M 648.88 90 L 641.88 92.33 L 641.88 87.67 Z" fill="#000000" stroke="#000000" stroke-miterlimit="10" pointer-events="none"/><g transform="translate(-0.5 -0.5)"><switch><foreignObject style="overflow: visible; text-align: left;" pointer-events="none" width="100%" height="100%" requiredFeatures="http://www.w3.org/TR/SVG11/feature#Extensibility"><div xmlns="http://www.w3.org/1999/xhtml" style="display: flex; align-items: unsafe center; justify-content: unsafe center; width: 1px; height: 1px; padding-top: 225px; margin-left: 640px;"><div style="box-sizing: border-box; font-size: 0; text-align: center; "><div style="display: inline-block; font-size: 12px; font-family: Comic Sans MS; color: #000000; line-height: 1.2; pointer-events: none; background-color: #ffffff; white-space: nowrap; ">RPC</div></div></div></foreignObject><text x="640" y="229" fill="#000000" font-family="Comic Sans MS" font-size="12px" text-anchor="middle">RPC</text></switch></g><rect x="490" y="330" width="140" height="70" rx="10.5" ry="10.5" fill="#dae8fc" stroke="#6c8ebf" pointer-events="none"/><g transform="translate(-0.5 -0.5)"><switch><foreignObject style="overflow: visible; text-align: left;" pointer-events="none" width="100%" height="100%" requiredFeatures="http://www.w3.org/TR/SVG11/feature#Extensibility"><div xmlns="http://www.w3.org/1999/xhtml" style="display: flex; align-items: unsafe center; justify-content: unsafe flex-start; width: 1px; height: 1px; padding-top: 365px; margin-left: 492px;"><div style="box-sizing: border-box; font-size: 0; text-align: left; "><div style="display: inline-block; font-size: 12px; font-family: Comic Sans MS; color: #000000; line-height: 1.2; pointer-events: none; white-space: nowrap; ">Send Prepare Request<br />1. ConsumeIORspQueue<br />2. AppendWriteBytes<br />3. FlushWritableChannel</div></div></div></foreignObject><text x="492" y="369" fill="#000000" font-family="Comic Sans MS" font-size="12px">Send Prepare Request...</text></switch></g><path d="M 790 90 L 880 90 L 880 131.88" fill="none" stroke="#000000" stroke-miterlimit="10" pointer-events="none"/><path d="M 880 138.88 L 877.67 131.88 L 882.33 131.88 Z" fill="#000000" stroke="#000000" stroke-miterlimit="10" pointer-events="none"/><g transform="translate(-0.5 -0.5)"><switch><foreignObject style="overflow: visible; text-align: left;" pointer-events="none" width="100%" height="100%" requiredFeatures="http://www.w3.org/TR/SVG11/feature#Extensibility"><div xmlns="http://www.w3.org/1999/xhtml" style="display: flex; align-items: unsafe center; justify-content: unsafe center; width: 1px; height: 1px; padding-top: 91px; margin-left: 868px;"><div style="box-sizing: border-box; font-size: 0; text-align: center; "><div style="display: inline-block; font-size: 12px; font-family: Comic Sans MS; color: #000000; line-height: 1.2; pointer-events: none; background-color: #ffffff; white-space: nowrap; ">IOReqQueue</div></div></div></foreignObject><text x="868" y="95" fill="#000000" font-family="Comic Sans MS" font-size="12px" text-anchor="middle">IOReqQueue</text></switch></g><rect x="650" y="50" width="140" height="80" rx="12" ry="12" fill="#d5e8d4" stroke="#82b366" pointer-events="none"/><g transform="translate(-0.5 -0.5)"><switch><foreignObject style="overflow: visible; text-align: left;" pointer-events="none" width="100%" height="100%" requiredFeatures="http://www.w3.org/TR/SVG11/feature#Extensibility"><div xmlns="http://www.w3.org/1999/xhtml" style="display: flex; align-items: unsafe center; justify-content: unsafe flex-start; width: 1px; height: 1px; padding-top: 90px; margin-left: 652px;"><div style="box-sizing: border-box; font-size: 0; text-align: left; "><div style="display: inline-block; font-size: 12px; font-family: Comic Sans MS; color: #000000; line-height: 1.2; pointer-events: none; white-space: nowrap; ">Receive Prepare Request<br />1. HandleRead<br />2. ParseIOBuffer<br />3. CreateCmd<br />4. PutToIOReqQueue</div></div></div></foreignObject><text x="652" y="94" fill="#000000" font-family="Comic Sans MS" font-size="12px">Receive Prepare Request...</text></switch></g><path d="M 950 215 L 1040 215 L 1040 291.88" fill="none" stroke="#000000" stroke-miterlimit="10" pointer-events="none"/><path d="M 1040 298.88 L 1037.67 291.88 L 1042.33 291.88 Z" fill="#000000" stroke="#000000" stroke-miterlimit="10" pointer-events="none"/><g transform="translate(-0.5 -0.5)"><switch><foreignObject style="overflow: visible; text-align: left;" pointer-events="none" width="100%" height="100%" requiredFeatures="http://www.w3.org/TR/SVG11/feature#Extensibility"><div xmlns="http://www.w3.org/1999/xhtml" style="display: flex; align-items: unsafe center; justify-content: unsafe center; width: 1px; height: 1px; padding-top: 215px; margin-left: 1041px;"><div style="box-sizing: border-box; font-size: 0; text-align: center; "><div style="display: inline-block; font-size: 12px; font-family: Comic Sans MS; color: #000000; line-height: 1.2; pointer-events: none; background-color: #ffffff; white-space: nowrap; ">PLogReqQueue</div></div></div></foreignObject><text x="1041" y="219" fill="#000000" font-family="Comic Sans MS" font-size="12px" text-anchor="middle">PLogReqQueue</text></switch></g><rect x="810" y="140" width="140" height="150" rx="21" ry="21" fill="#d5e8d4" stroke="#82b366" pointer-events="none"/><g transform="translate(-0.5 -0.5)"><switch><foreignObject style="overflow: visible; text-align: left;" pointer-events="none" width="100%" height="100%" requiredFeatures="http://www.w3.org/TR/SVG11/feature#Extensibility"><div xmlns="http://www.w3.org/1999/xhtml" style="display: flex; align-items: unsafe center; justify-content: unsafe flex-start; width: 1px; height: 1px; padding-top: 215px; margin-left: 812px;"><div style="box-sizing: border-box; font-size: 0; text-align: left; "><div style="display: inline-block; font-size: 12px; font-family: Comic Sans MS; color: #000000; line-height: 1.2; pointer-events: none; white-space: nowrap; ">Process Prepare Request<br />1. DoWithIOReq<br />2. DoWithPaxosCmd<br />3. CreateEntityInfo<br />4. RangeLoadFromPLog<br />5. CatchUp<br />6. CreateEntryInfo<br />7. UpdateRecord<br />8. Machine::Update<br />9. EnterPLogReqQueue</div></div></div></foreignObject><text x="812" y="219" fill="#000000" font-family="Comic Sans MS" font-size="12px">Process Prepare Request...</text></switch></g><path d="M 970 340 L 880 340 L 880 381.88" fill="none" stroke="#000000" stroke-miterlimit="10" pointer-events="none"/><path d="M 880 388.88 L 877.67 381.88 L 882.33 381.88 Z" fill="#000000" stroke="#000000" stroke-miterlimit="10" pointer-events="none"/><g transform="translate(-0.5 -0.5)"><switch><foreignObject style="overflow: visible; text-align: left;" pointer-events="none" width="100%" height="100%" requiredFeatures="http://www.w3.org/TR/SVG11/feature#Extensibility"><div xmlns="http://www.w3.org/1999/xhtml" style="display: flex; align-items: unsafe center; justify-content: unsafe center; width: 1px; height: 1px; padding-top: 340px; margin-left: 880px;"><div style="box-sizing: border-box; font-size: 0; text-align: center; "><div style="display: inline-block; font-size: 12px; font-family: Comic Sans MS; color: #000000; line-height: 1.2; pointer-events: none; background-color: #ffffff; white-space: nowrap; ">PLogRspQueue</div></div></div></foreignObject><text x="880" y="344" fill="#000000" font-family="Comic Sans MS" font-size="12px" text-anchor="middle">PLogRspQueue</text></switch></g><rect x="970" y="300" width="140" height="80" rx="12" ry="12" fill="#d5e8d4" stroke="#82b366" pointer-events="none"/><g transform="translate(-0.5 -0.5)"><switch><foreignObject style="overflow: visible; text-align: left;" pointer-events="none" width="100%" height="100%" requiredFeatures="http://www.w3.org/TR/SVG11/feature#Extensibility"><div xmlns="http://www.w3.org/1999/xhtml" style="display: flex; align-items: unsafe center; justify-content: unsafe flex-start; width: 1px; height: 1px; padding-top: 340px; margin-left: 972px;"><div style="box-sizing: border-box; font-size: 0; text-align: left; "><div style="display: inline-block; font-size: 12px; font-family: Comic Sans MS; color: #000000; line-height: 1.2; pointer-events: none; white-space: nowrap; ">Fsync Promised<br />1. DoWithPaxosCmd<br />2. DoWithPLogRequest<br />3. PLogEngline::PutRecord<br />4. EnterPLogRspQueue</div></div></div></foreignObject><text x="972" y="344" fill="#000000" font-family="Comic Sans MS" font-size="12px">Fsync Promised...</text></switch></g><path d="M 810 435 L 720 435 L 720 451.88" fill="none" stroke="#000000" stroke-miterlimit="10" pointer-events="none"/><path d="M 720 458.88 L 717.67 451.88 L 722.33 451.88 Z" fill="#000000" stroke="#000000" stroke-miterlimit="10" pointer-events="none"/><g transform="translate(-0.5 -0.5)"><switch><foreignObject style="overflow: visible; text-align: left;" pointer-events="none" width="100%" height="100%" requiredFeatures="http://www.w3.org/TR/SVG11/feature#Extensibility"><div xmlns="http://www.w3.org/1999/xhtml" style="display: flex; align-items: unsafe center; justify-content: unsafe center; width: 1px; height: 1px; padding-top: 430px; margin-left: 721px;"><div style="box-sizing: border-box; font-size: 0; text-align: center; "><div style="display: inline-block; font-size: 12px; font-family: Comic Sans MS; color: #000000; line-height: 1.2; pointer-events: none; background-color: #ffffff; white-space: nowrap; ">IORspQueue</div></div></div></foreignObject><text x="721" y="434" fill="#000000" font-family="Comic Sans MS" font-size="12px" text-anchor="middle">IORspQueue</text></switch></g><rect x="810" y="390" width="140" height="90" rx="13.5" ry="13.5" fill="#d5e8d4" stroke="#82b366" pointer-events="none"/><g transform="translate(-0.5 -0.5)"><switch><foreignObject style="overflow: visible; text-align: left;" pointer-events="none" width="100%" height="100%" requiredFeatures="http://www.w3.org/TR/SVG11/feature#Extensibility"><div xmlns="http://www.w3.org/1999/xhtml" style="display: flex; align-items: unsafe center; justify-content: unsafe flex-start; width: 1px; height: 1px; padding-top: 435px; margin-left: 812px;"><div style="box-sizing: border-box; font-size: 0; text-align: left; "><div style="display: inline-block; font-size: 12px; font-family: Comic Sans MS; color: #000000; line-height: 1.2; pointer-events: none; white-space: nowrap; ">Send Promise Back<br />1. DoWithPLogRsp<br />2. DoWithPaxosCmdFromPLog<br />3. SyncEntryRecord<br />4. bRemoteUpdated<br />5. GoAndDeleteIfFailed</div></div></div></foreignObject><text x="812" y="439" fill="#000000" font-family="Comic Sans MS" font-size="12px">Send Promise Back...</text></switch></g><path d="M 720 520 L 720 540 L 638.12 540" fill="none" stroke="#000000" stroke-miterlimit="10" pointer-events="none"/><path d="M 631.12 540 L 638.12 537.67 L 638.12 542.33 Z" fill="#000000" stroke="#000000" stroke-miterlimit="10" pointer-events="none"/><g transform="translate(-0.5 -0.5)"><switch><foreignObject style="overflow: visible; text-align: left;" pointer-events="none" width="100%" height="100%" requiredFeatures="http://www.w3.org/TR/SVG11/feature#Extensibility"><div xmlns="http://www.w3.org/1999/xhtml" style="display: flex; align-items: unsafe center; justify-content: unsafe center; width: 1px; height: 1px; padding-top: 540px; margin-left: 677px;"><div style="box-sizing: border-box; font-size: 0; text-align: center; "><div style="display: inline-block; font-size: 12px; font-family: Comic Sans MS; color: #000000; line-height: 1.2; pointer-events: none; background-color: #ffffff; white-space: nowrap; ">RPC</div></div></div></foreignObject><text x="677" y="544" fill="#000000" font-family="Comic Sans MS" font-size="12px" text-anchor="middle">RPC</text></switch></g><rect x="650" y="460" width="140" height="60" rx="9" ry="9" fill="#d5e8d4" stroke="#82b366" pointer-events="none"/><g transform="translate(-0.5 -0.5)"><switch><foreignObject style="overflow: visible; text-align: left;" pointer-events="none" width="100%" height="100%" requiredFeatures="http://www.w3.org/TR/SVG11/feature#Extensibility"><div xmlns="http://www.w3.org/1999/xhtml" style="display: flex; align-items: unsafe center; justify-content: unsafe flex-start; width: 1px; height: 1px; padding-top: 490px; margin-left: 652px;"><div style="box-sizing: border-box; font-size: 0; text-align: left; "><div style="display: inline-block; font-size: 12px; font-family: Comic Sans MS; color: #000000; line-height: 1.2; pointer-events: none; white-space: nowrap; ">Send Promise Back<br />1. ConsumeIORspQueue<br />2. AppendWriteBytes<br />3. FlushWritableChannel</div></div></div></foreignObject><text x="652" y="494" fill="#000000" font-family="Comic Sans MS" font-size="12px">Send Promise Back...</text></switch></g><path d="M 490 540 L 318.12 540" fill="none" stroke="#000000" stroke-miterlimit="10" pointer-events="none"/><path d="M 311.12 540 L 318.12 537.67 L 318.12 542.33 Z" fill="#000000" stroke="#000000" stroke-miterlimit="10" pointer-events="none"/><g transform="translate(-0.5 -0.5)"><switch><foreignObject style="overflow: visible; text-align: left;" pointer-events="none" width="100%" height="100%" requiredFeatures="http://www.w3.org/TR/SVG11/feature#Extensibility"><div xmlns="http://www.w3.org/1999/xhtml" style="display: flex; align-items: unsafe center; justify-content: unsafe center; width: 1px; height: 1px; padding-top: 530px; margin-left: 400px;"><div style="box-sizing: border-box; font-size: 0; text-align: center; "><div style="display: inline-block; font-size: 12px; font-family: Comic Sans MS; color: #000000; line-height: 1.2; pointer-events: none; background-color: #ffffff; white-space: nowrap; ">IOReqQueue</div></div></div></foreignObject><text x="400" y="534" fill="#000000" font-family="Comic Sans MS" font-size="12px" text-anchor="middle">IOReqQueue</text></switch></g><rect x="490" y="500" width="140" height="80" rx="12" ry="12" fill="#dae8fc" stroke="#6c8ebf" pointer-events="none"/><g transform="translate(-0.5 -0.5)"><switch><foreignObject style="overflow: visible; text-align: left;" pointer-events="none" width="100%" height="100%" requiredFeatures="http://www.w3.org/TR/SVG11/feature#Extensibility"><div xmlns="http://www.w3.org/1999/xhtml" style="display: flex; align-items: unsafe center; justify-content: unsafe flex-start; width: 1px; height: 1px; padding-top: 540px; margin-left: 492px;"><div style="box-sizing: border-box; font-size: 0; text-align: left; "><div style="display: inline-block; font-size: 12px; font-family: Comic Sans MS; color: #000000; line-height: 1.2; pointer-events: none; white-space: nowrap; ">Receive Promise<br />1. HandleRead<br />2. ParseIOBuffer<br />3. CreateCmd<br />4. PutToIOReqQueue</div></div></div></foreignObject><text x="492" y="544" fill="#000000" font-family="Comic Sans MS" font-size="12px">Receive Promise...</text></switch></g><path d="M 240 600 L 240 630 L 321.88 630" fill="none" stroke="#000000" stroke-miterlimit="10" pointer-events="none"/><path d="M 328.88 630 L 321.88 632.33 L 321.88 627.67 Z" fill="#000000" stroke="#000000" stroke-miterlimit="10" pointer-events="none"/><g transform="translate(-0.5 -0.5)"><switch><foreignObject style="overflow: visible; text-align: left;" pointer-events="none" width="100%" height="100%" requiredFeatures="http://www.w3.org/TR/SVG11/feature#Extensibility"><div xmlns="http://www.w3.org/1999/xhtml" style="display: flex; align-items: unsafe center; justify-content: unsafe center; width: 1px; height: 1px; padding-top: 630px; margin-left: 240px;"><div style="box-sizing: border-box; font-size: 0; text-align: center; "><div style="display: inline-block; font-size: 12px; font-family: Comic Sans MS; color: #000000; line-height: 1.2; pointer-events: none; background-color: #ffffff; white-space: nowrap; ">PLogReqQueue</div></div></div></foreignObject><text x="240" y="634" fill="#000000" font-family="Comic Sans MS" font-size="12px" text-anchor="middle">PLogReqQueue</text></switch></g><rect x="170" y="480" width="140" height="120" rx="18" ry="18" fill="#dae8fc" stroke="#6c8ebf" pointer-events="none"/><g transform="translate(-0.5 -0.5)"><switch><foreignObject style="overflow: visible; text-align: left;" pointer-events="none" width="100%" height="100%" requiredFeatures="http://www.w3.org/TR/SVG11/feature#Extensibility"><div xmlns="http://www.w3.org/1999/xhtml" style="display: flex; align-items: unsafe center; justify-content: unsafe flex-start; width: 1px; height: 1px; padding-top: 540px; margin-left: 172px;"><div style="box-sizing: border-box; font-size: 0; text-align: left; "><div style="display: inline-block; font-size: 12px; font-family: Comic Sans MS; color: #000000; line-height: 1.2; pointer-events: none; white-space: nowrap; ">Receive Majority Promises<br />1. DoWithIOReq<br />2. DoWithPaxosCmd<br />3. Find EntityInfo/EntryInfo<br />4. UpdateRecord<br />5. Machine::Update<br />6. AcceptOnMajorityPromise<br />7. EnterPLogReqQueue</div></div></div></foreignObject><text x="172" y="544" fill="#000000" font-family="Comic Sans MS" font-size="12px">Receive Majority Promis...</text></switch></g><path d="M 400 670 L 400 690 L 240 690 L 240 701.88" fill="none" stroke="#000000" stroke-miterlimit="10" pointer-events="none"/><path d="M 240 708.88 L 237.67 701.88 L 242.33 701.88 Z" fill="#000000" stroke="#000000" stroke-miterlimit="10" pointer-events="none"/><g transform="translate(-0.5 -0.5)"><switch><foreignObject style="overflow: visible; text-align: left;" pointer-events="none" width="100%" height="100%" requiredFeatures="http://www.w3.org/TR/SVG11/feature#Extensibility"><div xmlns="http://www.w3.org/1999/xhtml" style="display: flex; align-items: unsafe center; justify-content: unsafe center; width: 1px; height: 1px; padding-top: 689px; margin-left: 334px;"><div style="box-sizing: border-box; font-size: 0; text-align: center; "><div style="display: inline-block; font-size: 12px; font-family: Comic Sans MS; color: #000000; line-height: 1.2; pointer-events: none; background-color: #ffffff; white-space: nowrap; ">PLogRspQueue</div></div></div></foreignObject><text x="334" y="693" fill="#000000" font-family="Comic Sans MS" font-size="12px" text-anchor="middle">PLogRspQueue</text></switch></g><rect x="330" y="590" width="140" height="80" rx="12" ry="12" fill="#dae8fc" stroke="#6c8ebf" pointer-events="none"/><g transform="translate(-0.5 -0.5)"><switch><foreignObject style="overflow: visible; text-align: left;" pointer-events="none" width="100%" height="100%" requiredFeatures="http://www.w3.org/TR/SVG11/feature#Extensibility"><div xmlns="http://www.w3.org/1999/xhtml" style="display: flex; align-items: unsafe center; justify-content: unsafe flex-start; width: 1px; height: 1px; padding-top: 630px; margin-left: 332px;"><div style="box-sizing: border-box; font-size: 0; text-align: left; "><div style="display: inline-block; font-size: 12px; font-family: Comic Sans MS; color: #000000; line-height: 1.2; pointer-events: none; white-space: nowrap; ">Store Local Promise<br />1. DoWithPaxosCmd<br />2. DoWithPLogRequest<br />3. PLogEngine::PutRecord<br />4. EnterPLogRspQueue</div></div></div></foreignObject><text x="332" y="634" fill="#000000" font-family="Comic Sans MS" font-size="12px">Store Local Promise...</text></switch></g><rect x="170" y="710" width="140" height="90" rx="13.5" ry="13.5" fill="#dae8fc" stroke="#6c8ebf" pointer-events="none"/><g transform="translate(-0.5 -0.5)"><switch><foreignObject style="overflow: visible; text-align: left;" pointer-events="none" width="100%" height="100%" requiredFeatures="http://www.w3.org/TR/SVG11/feature#Extensibility"><div xmlns="http://www.w3.org/1999/xhtml" style="display: flex; align-items: unsafe center; justify-content: unsafe flex-start; width: 1px; height: 1px; padding-top: 755px; margin-left: 172px;"><div style="box-sizing: border-box; font-size: 0; text-align: left; "><div style="display: inline-block; font-size: 12px; font-family: Comic Sans MS; color: #000000; line-height: 1.2; pointer-events: none; white-space: nowrap; ">Broadcast Accept Request<br />1. DoWithPLogRsp<br />2. DoWithPaxosCmdFromPLog<br />3. SyncEntryRecord<br />4. BroadcastToRemote<br />5. GoAndDeleteIfFailed</div></div></div></foreignObject><text x="172" y="759" fill="#000000" font-family="Comic Sans MS" font-size="12px">Broadcast Accept Reques...</text></switch></g><path d="M 310 755 L 481.88 755" fill="none" stroke="#000000" stroke-miterlimit="10" pointer-events="none"/><path d="M 488.88 755 L 481.88 757.33 L 481.88 752.67 Z" fill="#000000" stroke="#000000" stroke-miterlimit="10" pointer-events="none"/><g transform="translate(-0.5 -0.5)"><switch><foreignObject style="overflow: visible; text-align: left;" pointer-events="none" width="100%" height="100%" requiredFeatures="http://www.w3.org/TR/SVG11/feature#Extensibility"><div xmlns="http://www.w3.org/1999/xhtml" style="display: flex; align-items: unsafe center; justify-content: unsafe center; width: 1px; height: 1px; padding-top: 750px; margin-left: 401px;"><div style="box-sizing: border-box; font-size: 0; text-align: center; "><div style="display: inline-block; font-size: 12px; font-family: Comic Sans MS; color: #000000; line-height: 1.2; pointer-events: none; background-color: #ffffff; white-space: nowrap; ">IORspQueue</div></div></div></foreignObject><text x="401" y="754" fill="#000000" font-family="Comic Sans MS" font-size="12px" text-anchor="middle">IORspQueue</text></switch></g><path d="M 790 755 L 810 755 L 810 707.5 L 790 707.5 L 790 535 L 880 535 L 880 546.88" fill="none" stroke="#000000" stroke-miterlimit="10" pointer-events="none"/><path d="M 880 553.88 L 877.67 546.88 L 882.33 546.88 Z" fill="#000000" stroke="#000000" stroke-miterlimit="10" pointer-events="none"/><g transform="translate(-0.5 -0.5)"><switch><foreignObject style="overflow: visible; text-align: left;" pointer-events="none" width="100%" height="100%" requiredFeatures="http://www.w3.org/TR/SVG11/feature#Extensibility"><div xmlns="http://www.w3.org/1999/xhtml" style="display: flex; align-items: unsafe center; justify-content: unsafe center; width: 1px; height: 1px; padding-top: 535px; margin-left: 835px;"><div style="box-sizing: border-box; font-size: 0; text-align: center; "><div style="display: inline-block; font-size: 12px; font-family: Comic Sans MS; color: #000000; line-height: 1.2; pointer-events: none; background-color: #ffffff; white-space: nowrap; ">IOReqQueue</div></div></div></foreignObject><text x="835" y="539" fill="#000000" font-family="Comic Sans MS" font-size="12px" text-anchor="middle">IOReqQueue</text></switch></g><rect x="490" y="745" width="300" height="20" rx="3" ry="3" fill="#ffffff" stroke="#000000" pointer-events="none"/><g transform="translate(-0.5 -0.5)"><switch><foreignObject style="overflow: visible; text-align: left;" pointer-events="none" width="100%" height="100%" requiredFeatures="http://www.w3.org/TR/SVG11/feature#Extensibility"><div xmlns="http://www.w3.org/1999/xhtml" style="display: flex; align-items: unsafe center; justify-content: unsafe center; width: 1px; height: 1px; padding-top: 755px; margin-left: 640px;"><div style="box-sizing: border-box; font-size: 0; text-align: center; "><div style="display: inline-block; font-size: 12px; font-family: Comic Sans MS; color: #000000; line-height: 1.2; pointer-events: none; white-space: nowrap; ">RPC (same as above)</div></div></div></foreignObject><text x="640" y="759" fill="#000000" font-family="Comic Sans MS" font-size="12px" text-anchor="middle">RPC (same as above)</text></switch></g><path d="M 490 820 L 240 820 L 240 831.88" fill="none" stroke="#000000" stroke-miterlimit="10" pointer-events="none"/><path d="M 240 838.88 L 237.67 831.88 L 242.33 831.88 Z" fill="#000000" stroke="#000000" stroke-miterlimit="10" pointer-events="none"/><rect x="490" y="810" width="300" height="20" rx="3" ry="3" fill="#ffffff" stroke="#000000" pointer-events="none"/><g transform="translate(-0.5 -0.5)"><switch><foreignObject style="overflow: visible; text-align: left;" pointer-events="none" width="100%" height="100%" requiredFeatures="http://www.w3.org/TR/SVG11/feature#Extensibility"><div xmlns="http://www.w3.org/1999/xhtml" style="display: flex; align-items: unsafe center; justify-content: unsafe center; width: 1px; height: 1px; padding-top: 820px; margin-left: 640px;"><div style="box-sizing: border-box; font-size: 0; text-align: center; "><div style="display: inline-block; font-size: 12px; font-family: Comic Sans MS; color: #000000; line-height: 1.2; pointer-events: none; white-space: nowrap; ">RPC (same as above)</div></div></div></foreignObject><text x="640" y="824" fill="#000000" font-family="Comic Sans MS" font-size="12px" text-anchor="middle">RPC (same as above)</text></switch></g><path d="M 950 612.5 L 1040 612.5 L 1040 671.88" fill="none" stroke="#000000" stroke-miterlimit="10" pointer-events="none"/><path d="M 1040 678.88 L 1037.67 671.88 L 1042.33 671.88 Z" fill="#000000" stroke="#000000" stroke-miterlimit="10" pointer-events="none"/><g transform="translate(-0.5 -0.5)"><switch><foreignObject style="overflow: visible; text-align: left;" pointer-events="none" width="100%" height="100%" requiredFeatures="http://www.w3.org/TR/SVG11/feature#Extensibility"><div xmlns="http://www.w3.org/1999/xhtml" style="display: flex; align-items: unsafe center; justify-content: unsafe center; width: 1px; height: 1px; padding-top: 613px; margin-left: 1040px;"><div style="box-sizing: border-box; font-size: 0; text-align: center; "><div style="display: inline-block; font-size: 12px; font-family: Comic Sans MS; color: #000000; line-height: 1.2; pointer-events: none; background-color: #ffffff; white-space: nowrap; ">PLogReqQueue</div></div></div></foreignObject><text x="1040" y="617" fill="#000000" font-family="Comic Sans MS" font-size="12px" text-anchor="middle">PLogReqQueue</text></switch></g><rect x="810" y="555" width="140" height="115" rx="17.25" ry="17.25" fill="#d5e8d4" stroke="#82b366" pointer-events="none"/><g transform="translate(-0.5 -0.5)"><switch><foreignObject style="overflow: visible; text-align: left;" pointer-events="none" width="100%" height="100%" requiredFeatures="http://www.w3.org/TR/SVG11/feature#Extensibility"><div xmlns="http://www.w3.org/1999/xhtml" style="display: flex; align-items: unsafe center; justify-content: unsafe flex-start; width: 1px; height: 1px; padding-top: 613px; margin-left: 812px;"><div style="box-sizing: border-box; font-size: 0; text-align: left; "><div style="display: inline-block; font-size: 12px; font-family: Comic Sans MS; color: #000000; line-height: 1.2; pointer-events: none; white-space: nowrap; ">Process Accept Request<br />1. DoWithIOReq<br />2. DoWithPaxosCmd<br />3. CreateEntityInfo<br />4. CreateEntryInfo<br />5. UpdateRecord<br />6. Machine::Update<br />7. EnterPLogReqQueue</div></div></div></foreignObject><text x="812" y="616" fill="#000000" font-family="Comic Sans MS" font-size="12px">Process Accept Request...</text></switch></g><path d="M 970 720 L 880 720 L 880 766.54" fill="none" stroke="#000000" stroke-miterlimit="10" pointer-events="none"/><path d="M 880 773.54 L 877.67 766.54 L 882.33 766.54 Z" fill="#000000" stroke="#000000" stroke-miterlimit="10" pointer-events="none"/><g transform="translate(-0.5 -0.5)"><switch><foreignObject style="overflow: visible; text-align: left;" pointer-events="none" width="100%" height="100%" requiredFeatures="http://www.w3.org/TR/SVG11/feature#Extensibility"><div xmlns="http://www.w3.org/1999/xhtml" style="display: flex; align-items: unsafe center; justify-content: unsafe center; width: 1px; height: 1px; padding-top: 720px; margin-left: 880px;"><div style="box-sizing: border-box; font-size: 0; text-align: center; "><div style="display: inline-block; font-size: 12px; font-family: Comic Sans MS; color: #000000; line-height: 1.2; pointer-events: none; background-color: #ffffff; white-space: nowrap; ">PLogRspQueue</div></div></div></foreignObject><text x="880" y="724" fill="#000000" font-family="Comic Sans MS" font-size="12px" text-anchor="middle">PLogRspQueue</text></switch></g><rect x="970" y="680" width="140" height="80" rx="12" ry="12" fill="#d5e8d4" stroke="#82b366" pointer-events="none"/><g transform="translate(-0.5 -0.5)"><switch><foreignObject style="overflow: visible; text-align: left;" pointer-events="none" width="100%" height="100%" requiredFeatures="http://www.w3.org/TR/SVG11/feature#Extensibility"><div xmlns="http://www.w3.org/1999/xhtml" style="display: flex; align-items: unsafe center; justify-content: unsafe flex-start; width: 1px; height: 1px; padding-top: 720px; margin-left: 972px;"><div style="box-sizing: border-box; font-size: 0; text-align: left; "><div style="display: inline-block; font-size: 12px; font-family: Comic Sans MS; color: #000000; line-height: 1.2; pointer-events: none; white-space: nowrap; ">Fsync Accepted<br />1. DoWithPaxosCmd<br />2. DoWithPLogRequest<br />3. PLogEngline::PutRecord<br />4. EnterPLogRspQueue</div></div></div></foreignObject><text x="972" y="724" fill="#000000" font-family="Comic Sans MS" font-size="12px">Fsync Accepted...</text></switch></g><path d="M 310 900 L 400 900 L 400 931.88" fill="none" stroke="#000000" stroke-miterlimit="10" pointer-events="none"/><path d="M 400 938.88 L 397.67 931.88 L 402.33 931.88 Z" fill="#000000" stroke="#000000" stroke-miterlimit="10" pointer-events="none"/><g transform="translate(-0.5 -0.5)"><switch><foreignObject style="overflow: visible; text-align: left;" pointer-events="none" width="100%" height="100%" requiredFeatures="http://www.w3.org/TR/SVG11/feature#Extensibility"><div xmlns="http://www.w3.org/1999/xhtml" style="display: flex; align-items: unsafe center; justify-content: unsafe center; width: 1px; height: 1px; padding-top: 900px; margin-left: 401px;"><div style="box-sizing: border-box; font-size: 0; text-align: center; "><div style="display: inline-block; font-size: 12px; font-family: Comic Sans MS; color: #000000; line-height: 1.2; pointer-events: none; background-color: #ffffff; white-space: nowrap; ">PLogReqQueue</div></div></div></foreignObject><text x="401" y="904" fill="#000000" font-family="Comic Sans MS" font-size="12px" text-anchor="middle">PLogReqQueue</text></switch></g><rect x="170" y="840" width="140" height="120" rx="18" ry="18" fill="#dae8fc" stroke="#6c8ebf" pointer-events="none"/><g transform="translate(-0.5 -0.5)"><switch><foreignObject style="overflow: visible; text-align: left;" pointer-events="none" width="100%" height="100%" requiredFeatures="http://www.w3.org/TR/SVG11/feature#Extensibility"><div xmlns="http://www.w3.org/1999/xhtml" style="display: flex; align-items: unsafe center; justify-content: unsafe flex-start; width: 1px; height: 1px; padding-top: 900px; margin-left: 172px;"><div style="box-sizing: border-box; font-size: 0; text-align: left; "><div style="display: inline-block; font-size: 12px; font-family: Comic Sans MS; color: #000000; line-height: 1.2; pointer-events: none; white-space: nowrap; ">Receive Majority Promises<br />1. DoWithIOReq<br />2. DoWithPaxosCmd<br />3. Find EntityInfo/EntryInfo<br />4. UpdateRecord<br />5. Machine::Update<br />6. Chosen<br />7. EnterPLogReqQueue</div></div></div></foreignObject><text x="172" y="904" fill="#000000" font-family="Comic Sans MS" font-size="12px">Receive Majority Promis...</text></switch></g><path d="M 400 1000 L 400 1020 L 240 1020 L 240 1031.88" fill="none" stroke="#000000" stroke-miterlimit="10" pointer-events="none"/><path d="M 240 1038.88 L 237.67 1031.88 L 242.33 1031.88 Z" fill="#000000" stroke="#000000" stroke-miterlimit="10" pointer-events="none"/><g transform="translate(-0.5 -0.5)"><switch><foreignObject style="overflow: visible; text-align: left;" pointer-events="none" width="100%" height="100%" requiredFeatures="http://www.w3.org/TR/SVG11/feature#Extensibility"><div xmlns="http://www.w3.org/1999/xhtml" style="display: flex; align-items: unsafe center; justify-content: unsafe center; width: 1px; height: 1px; padding-top: 1020px; margin-left: 330px;"><div style="box-sizing: border-box; font-size: 0; text-align: center; "><div style="display: inline-block; font-size: 12px; font-family: Comic Sans MS; color: #000000; line-height: 1.2; pointer-events: none; background-color: #ffffff; white-space: nowrap; ">PLogRspQueue</div></div></div></foreignObject><text x="330" y="1024" fill="#000000" font-family="Comic Sans MS" font-size="12px" text-anchor="middle">PLogRspQueue</text></switch></g><rect x="330" y="920" width="140" height="80" rx="12" ry="12" fill="#dae8fc" stroke="#6c8ebf" pointer-events="none"/><g transform="translate(-0.5 -0.5)"><switch><foreignObject style="overflow: visible; text-align: left;" pointer-events="none" width="100%" height="100%" requiredFeatures="http://www.w3.org/TR/SVG11/feature#Extensibility"><div xmlns="http://www.w3.org/1999/xhtml" style="display: flex; align-items: unsafe center; justify-content: unsafe flex-start; width: 1px; height: 1px; padding-top: 960px; margin-left: 332px;"><div style="box-sizing: border-box; font-size: 0; text-align: left; "><div style="display: inline-block; font-size: 12px; font-family: Comic Sans MS; color: #000000; line-height: 1.2; pointer-events: none; white-space: nowrap; ">Store Chosen<br />1. DoWithPaxosCmd<br />2. DoWithPLogRequest<br />3. PLogEngine::PutRecord<br />4. EnterPLogRspQueue</div></div></div></foreignObject><text x="332" y="964" fill="#000000" font-family="Comic Sans MS" font-size="12px">Store Chosen...</text></switch></g><path d="M 310 1070 L 481.88 1070" fill="none" stroke="#000000" stroke-miterlimit="10" pointer-events="none"/><path d="M 488.88 1070 L 481.88 1072.33 L 481.88 1067.67 Z" fill="#000000" stroke="#000000" stroke-miterlimit="10" pointer-events="none"/><g transform="translate(-0.5 -0.5)"><switch><foreignObject style="overflow: visible; text-align: left;" pointer-events="none" width="100%" height="100%" requiredFeatures="http://www.w3.org/TR/SVG11/feature#Extensibility"><div xmlns="http://www.w3.org/1999/xhtml" style="display: flex; align-items: unsafe center; justify-content: unsafe center; width: 1px; height: 1px; padding-top: 1068px; margin-left: 415px;"><div style="box-sizing: border-box; font-size: 0; text-align: center; "><div style="display: inline-block; font-size: 12px; font-family: Comic Sans MS; color: #000000; line-height: 1.2; pointer-events: none; background-color: #ffffff; white-space: nowrap; ">IORspQueue</div></div></div></foreignObject><text x="415" y="1072" fill="#000000" font-family="Comic Sans MS" font-size="12px" text-anchor="middle">IORspQueue</text></switch></g><rect x="170" y="1040" width="140" height="60" rx="9" ry="9" fill="#dae8fc" stroke="#6c8ebf" pointer-events="none"/><g transform="translate(-0.5 -0.5)"><switch><foreignObject style="overflow: visible; text-align: left;" pointer-events="none" width="100%" height="100%" requiredFeatures="http://www.w3.org/TR/SVG11/feature#Extensibility"><div xmlns="http://www.w3.org/1999/xhtml" style="display: flex; align-items: unsafe center; justify-content: unsafe flex-start; width: 1px; height: 1px; padding-top: 1070px; margin-left: 172px;"><div style="box-sizing: border-box; font-size: 0; text-align: left; "><div style="display: inline-block; font-size: 12px; font-family: Comic Sans MS; color: #000000; line-height: 1.2; pointer-events: none; white-space: nowrap; ">Return Result<br />1. DoWithPLogRsp<br />2. DoWithPaxosCmdFromPLog<br />3. Push to IO Queue</div></div></div></foreignObject><text x="172" y="1074" fill="#000000" font-family="Comic Sans MS" font-size="12px">Return Result...</text></switch></g><path d="M 560 1095 L 560 1120 L 158.12 1120" fill="none" stroke="#000000" stroke-miterlimit="10" pointer-events="none"/><path d="M 151.12 1120 L 158.12 1117.67 L 158.12 1122.33 Z" fill="#000000" stroke="#000000" stroke-miterlimit="10" pointer-events="none"/><g transform="translate(-0.5 -0.5)"><switch><foreignObject style="overflow: visible; text-align: left;" pointer-events="none" width="100%" height="100%" requiredFeatures="http://www.w3.org/TR/SVG11/feature#Extensibility"><div xmlns="http://www.w3.org/1999/xhtml" style="display: flex; align-items: unsafe center; justify-content: unsafe center; width: 1px; height: 1px; padding-top: 1119px; margin-left: 392px;"><div style="box-sizing: border-box; font-size: 0; text-align: center; "><div style="display: inline-block; font-size: 12px; font-family: Comic Sans MS; color: #000000; line-height: 1.2; pointer-events: none; background-color: #ffffff; white-space: nowrap; ">pipe &amp; coroutine</div></div></div></foreignObject><text x="392" y="1123" fill="#000000" font-family="Comic Sans MS" font-size="12px" text-anchor="middle">pipe &amp; coroutine</text></switch></g><rect x="490" y="1045" width="140" height="50" rx="7.5" ry="7.5" fill="#dae8fc" stroke="#6c8ebf" pointer-events="none"/><g transform="translate(-0.5 -0.5)"><switch><foreignObject style="overflow: visible; text-align: left;" pointer-events="none" width="100%" height="100%" requiredFeatures="http://www.w3.org/TR/SVG11/feature#Extensibility"><div xmlns="http://www.w3.org/1999/xhtml" style="display: flex; align-items: unsafe center; justify-content: unsafe flex-start; width: 1px; height: 1px; padding-top: 1070px; margin-left: 492px;"><div style="box-sizing: border-box; font-size: 0; text-align: left; "><div style="display: inline-block; font-size: 12px; font-family: Comic Sans MS; color: #000000; line-height: 1.2; pointer-events: none; white-space: nowrap; ">Return Result<br />1. ConsumeIORspQueue<br />2. SyncWriteByPipeId</div></div></div></foreignObject><text x="492" y="1074" fill="#000000" font-family="Comic Sans MS" font-size="12px">Return Result...</text></switch></g><rect x="10" y="1110" width="140" height="20" rx="3" ry="3" fill="#f8cecc" stroke="#b85450" pointer-events="none"/><g transform="translate(-0.5 -0.5)"><switch><foreignObject style="overflow: visible; text-align: left;" pointer-events="none" width="100%" height="100%" requiredFeatures="http://www.w3.org/TR/SVG11/feature#Extensibility"><div xmlns="http://www.w3.org/1999/xhtml" style="display: flex; align-items: unsafe center; justify-content: unsafe flex-start; width: 138px; height: 1px; padding-top: 1120px; margin-left: 12px;"><div style="box-sizing: border-box; font-size: 0; text-align: left; "><div style="display: inline-block; font-size: 12px; font-family: Comic Sans MS; color: #000000; line-height: 1.2; pointer-events: none; white-space: normal; word-wrap: normal; ">3. SyncWaitByPipeIdx</div></div></div></foreignObject><text x="12" y="1124" fill="#000000" font-family="Comic Sans MS" font-size="12px">3. SyncWaitByPipeIdx</text></switch></g><path d="M 810 820 L 798.12 820" fill="none" stroke="#000000" stroke-miterlimit="10" pointer-events="none"/><path d="M 791.12 820 L 798.12 817.66 L 798.12 822.33 Z" fill="#000000" stroke="#000000" stroke-miterlimit="10" pointer-events="none"/><rect x="810" y="774.66" width="140" height="90.67" rx="13.6" ry="13.6" fill="#d5e8d4" stroke="#82b366" pointer-events="none"/><g transform="translate(-0.5 -0.5)"><switch><foreignObject style="overflow: visible; text-align: left;" pointer-events="none" width="100%" height="100%" requiredFeatures="http://www.w3.org/TR/SVG11/feature#Extensibility"><div xmlns="http://www.w3.org/1999/xhtml" style="display: flex; align-items: unsafe center; justify-content: unsafe flex-start; width: 1px; height: 1px; padding-top: 820px; margin-left: 812px;"><div style="box-sizing: border-box; font-size: 0; text-align: left; "><div style="display: inline-block; font-size: 12px; font-family: Comic Sans MS; color: #000000; line-height: 1.2; pointer-events: none; white-space: nowrap; ">Send Accepted Back<br />1. DoWithPLogRsp<br />2. DoWithPaxosCmdFromPLog<br />3. SyncEntryRecord<br />4. bRemoteUpdated<br />5. GoAndDeleteIfFailed</div></div></div></foreignObject><text x="812" y="824" fill="#000000" font-family="Comic Sans MS" font-size="12px">Send Accepted Back...</text></switch></g></g><switch><g requiredFeatures="http://www.w3.org/TR/SVG11/feature#Extensibility"/><a transform="translate(0,-5)" xlink:href="https://desk.draw.io/support/solutions/articles/16000042487" target="_blank"><text text-anchor="middle" font-size="10px" x="50%" y="100%">Viewer does not support full SVG 1.1</text></a></switch></svg>